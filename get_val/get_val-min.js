!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.GetVal=t()}(this,function(){function e(e,t){for(var s=-1,i=t.length>>>0;++s<i;)if(e===t[s])return!0;return!1}function t(e,t){function s(){}return s.prototype=(e.superclass=t).prototype,(e.prototype=new s).constructor=e,"function"==typeof t.extended&&t.extended(e),e}function s(e,t){var s={}.hasOwnProperty;for(var i in t)s.call(t,i)&&(e[i]=t[i]);return e}/**
 * Provides class for getting value by key
 *
 * @module get_val
 * @version r9
 * @author Viacheslav Lotsmanov
 * @license AGPLv3
 * @see {@link https://github.com/unclechu/js-useful-umd-modules/|GitHub}
 * @see {@link https://github.com/unclechu/js-useful-umd-modules/blob/master/AGPLv3-LICENSE|License}
 */
var i;return i=function(){function i(e,t){var s,i,r,n,o;if(null==t&&(t=null),s=function(e){return"[object Array]"===Object.prototype.toString.call(e)},"object"!=typeof e)throw new this.exceptions.IncorrectArgument(null,"values",typeof e,"object");if("object"!=typeof e.values)throw new this.exceptions.RequiredArgumentKey(null,"values","values",typeof e.values,"object");if(s(e.values))throw new this.exceptions.RequiredArgumentKey(null,"values","values","array","object");if(!s(e.required))throw new this.exceptions.RequiredArgumentKey(null,"values","required",typeof e.required,"array");if(t&&"object"!=typeof t)throw new this.exceptions.IncorrectArgument(null,"required",typeof t,"object");if(this._values=e.values,this._required=e.required,t)for(i=0,r=t.length;r>i;++i)n=t[i],this.set.call(this,n,t[n]);return o=function(e){return function(){return e.get.apply(e,arguments)}}.call(this,this),o["super"]=this,o}i.displayName="GetVal";var r=i.prototype;return r._checkRequired=function(){var t,s,i,r;for(t=0,i=(s=this._required).length;i>t;++t)if(r=s[t],!e(this._required[r],this._values))throw new this.exceptions.RequiredIsNotSet(null,this._required)},r.set=function(e,t){var s,i,r,n,o;if(s=!1,"string"!=typeof e)throw new this.exceptions.IncorrectKey(null,typeof e);for(i=0,n=(r=this._required).length;n>i;++i)o=r[i],this._required[o]===e&&(s=!0);if(!s)throw new this.exceptions.NoKeyInRequiredList(null,e);this._values[e]=t},r.get=function(t,s){if(s||this._checkRequired(),"string"!=typeof t)throw new this.exceptions.IncorrectKey(null,typeof t);if(!e(t,this._values))throw new this.exceptions.KeyIsNotExists(null,t);return this._values[t]},i.exceptions=i.prototype.exceptions={},i.exceptions.IncorrectArgument=function(e){function i(e,t,s,i){e?this.message=e:(this.message="Incorrect",t&&(this.message+=' "'+t+'"'),this.message+=" argument type",s&&(this.message+=': "'+s+'"'),i&&(this.message+=', must be a(n) "'+i+'"'),this.message+="."),this.name=t,this.type=s,this.mustBe=i}t((s(i,e).displayName="IncorrectArgument",i),e).prototype;return i}(Error),i.exceptions.RequiredArgumentKey=function(e){function i(e,t,s,i,r){e?this.message=e:(this.message="Incorrect",t&&(this.message+=' "'+t+'"'),this.message+=" argument key",s&&(this.message+=' "'+s+'"'),this.message+=" type",i&&(this.message+=': "'+i+'"'),r&&(this.message+=', must be a(n) "'+r+'"'),this.message+="."),this.argName=t,this.keyName=s,this.keyType=i,this.keyMustBe=r}t((s(i,e).displayName="RequiredArgumentKey",i),e).prototype;return i}(Error),i.exceptions.IncorrectKey=function(e){function i(e,t){e?this.message=e:(this.message="Incorrect key type",t&&(this.message+=' ("'+t+'")'),this.message+=", must be a string."),this.keyType=t}t((s(i,e).displayName="IncorrectKey",i),e).prototype;return i}(Error),i.exceptions.KeyIsNotExists=function(e){function i(e,t){e?this.message=e:(this.message="Key",t&&(this.message+=' "'+t+'"'),this.message+=" is not exists."),this.key=t}t((s(i,e).displayName="KeyIsNotExists",i),e).prototype;return i}(Error),i.exceptions.RequiredIsNotSet=function(e){function i(e,t){e?this.message=e:(this.message="Required key is not set",t&&(this.message+=': "'+t+'"'),this.message+="."),this.key=t}t((s(i,e).displayName="RequiredIsNotSet",i),e).prototype;return i}(Error),i.exceptions.NoKeyInRequiredList=function(e){function i(e,t){e?this.message=e:(this.message="No key",t&&(this.message+=' "'+t+'"'),this.message+=" in required list."),this.key=t}t((s(i,e).displayName="NoKeyInRequiredList",i),e).prototype;return i}(Error),i}()});